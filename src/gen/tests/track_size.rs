// SPDX-License-Identifier: Apache-2.0 OR MIT
// This file is @generated by dependabot-config-internal-codegen
// (gen_track_size function at tools/codegen/src/main.rs).
// It is not intended for manual editing.

#![cfg_attr(rustfmt, rustfmt::skip)]
#![allow(dead_code, clippy::std_instead_of_alloc, clippy::std_instead_of_core)]
use std::{fmt::Write as _, path::Path, string::String};
fn write_size<T>(out: &mut String) {
    let _ = writeln!(
        out, "{}: {}", std::any::type_name::<T> (), std::mem::size_of::<T> ()
    );
}
/// Test the size of public types. This is not intended to keep a specific size and
/// is intended to be used only as a help in optimization.
///
/// Ignore non-64-bit targets due to usize/ptr size, and ignore Miri/cargo-careful
/// as we set -Z randomize-layout for them.
#[test]
#[cfg_attr(any(not(target_pointer_width = "64"), miri, careful), ignore)]
fn track_size() {
    let mut out = String::new();
    write_size::<crate::error::Error>(&mut out);
    write_size::<crate::Dependabot>(&mut out);
    write_size::<crate::v1::Dependabot>(&mut out);
    write_size::<crate::v1::UpdateConfig>(&mut out);
    write_size::<crate::v1::PackageManager>(&mut out);
    write_size::<crate::v1::UpdateSchedule>(&mut out);
    write_size::<crate::v1::AllowedUpdate>(&mut out);
    write_size::<crate::v1::AllowedUpdateMatch>(&mut out);
    write_size::<crate::v1::AllowedDependencyType>(&mut out);
    write_size::<crate::v1::AllowedUpdateType>(&mut out);
    write_size::<crate::v1::IgnoredUpdate>(&mut out);
    write_size::<crate::v1::IgnoredUpdateMatch>(&mut out);
    write_size::<crate::v1::AutomergedUpdate>(&mut out);
    write_size::<crate::v1::AutomergedUpdateMatch>(&mut out);
    write_size::<crate::v1::AutomergedDependencyType>(&mut out);
    write_size::<crate::v1::AutomergedUpdateType>(&mut out);
    write_size::<crate::v1::VersionRequirementUpdate>(&mut out);
    write_size::<crate::v1::CommitMessage>(&mut out);
    write_size::<crate::v2::Dependabot>(&mut out);
    write_size::<crate::v2::Update>(&mut out);
    write_size::<crate::v2::PackageEcosystem>(&mut out);
    write_size::<crate::v2::Schedule>(&mut out);
    write_size::<crate::v2::Interval>(&mut out);
    write_size::<crate::v2::Day>(&mut out);
    write_size::<crate::v2::Allow>(&mut out);
    write_size::<crate::v2::DependencyType>(&mut out);
    write_size::<crate::v2::CommitMessage>(&mut out);
    write_size::<crate::v2::CommitMessageInclude>(&mut out);
    write_size::<crate::v2::Ignore>(&mut out);
    write_size::<crate::v2::UpdateType>(&mut out);
    write_size::<crate::v2::InsecureExternalCodeExecution>(&mut out);
    write_size::<crate::v2::PullRequestBranchName>(&mut out);
    write_size::<crate::v2::Separator>(&mut out);
    write_size::<crate::v2::RebaseStrategy>(&mut out);
    write_size::<crate::v2::VersioningStrategy>(&mut out);
    write_size::<crate::v2::Registry>(&mut out);
    write_size::<crate::v2::RegistryType>(&mut out);
    test_helper::git::assert_diff(
        Path::new(env!("CARGO_MANIFEST_DIR")).join("src/gen/tests/track_size.txt"),
        out,
    );
}
